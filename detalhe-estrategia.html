<!-- 
Arquivo: detalhe-estrategia.html
Caminho: detalhe-estrategia.html (raiz do projeto)
Dashboard Detalhado - An√°lise Estrat√©gica - LAYOUT CORRIGIDO
-->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ BTC Turbo - An√°lise Estrat√©gica</title>
    <link rel="stylesheet" href="/src/styles/shared.css">
    <link rel="stylesheet" href="/src/styles/components.css">
    <style>
        /* Layout dos blocos - CORRIGIDO */
        .bloco-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* For√ßa 2 colunas no PC */
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .bloco-card {
            background: #2a2f3e;
            border: 1px solid #3a3f4e;
            border-radius: 16px;
            padding: 25px;
            overflow: hidden;
        }
        
        .bloco-content {
            display: grid;
            grid-template-columns: 220px 1fr;
            gap: 25px;
            align-items: start;
        }
        
        .gauge-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }
        
        .gauge {
            width: 200px;
            height: 200px;
            position: relative;
        }
        
        .gauge canvas {
            width: 100%;
            height: 100%;
        }
        
        .gauge-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
        }
        
        .gauge-score {
            font-size: 2rem;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 5px;
        }
        
        .gauge-label {
            font-size: 0.8rem;
            color: #8b9dc3;
            text-transform: uppercase;
        }

        /* LABELS DOS GAUGES - NOVO */
        .gauge-labels {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            color: #8b9dc3;
            font-weight: 500;
        }

        .gauge-label-left {
            text-align: left;
        }

        .gauge-label-right {
            text-align: right;
        }
        
        .bloco-indicadores {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 15px;
            max-width: 100%;
            min-height: 200px;
        }

        /* CLASSIFICA√á√ÉO CENTRALIZADA - NOVO */
        .classification-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #404552;
        }

        .classification-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ff8c42;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .indicador-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .indicador-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3px;
        }
        
        .indicador-nome {
            color: #8b9dc3;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .indicador-valor {
            color: #ffffff;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .indicador-barra {
            background: #404552;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            width: 100%;
        }
        
        .indicador-barra-fill {
            height: 100%;
            transition: width 0.8s ease;
            border-radius: 4px;
        }
        
        .ema-distances-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 100%;
            min-height: 200px;
            justify-content: center;
        }
        
        .ema-distance-item {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            align-items: center;
            padding: 12px 15px;
            background: #323746;
            border-radius: 8px;
            border-left: 4px solid #404552;
        }
        
        .ema-distance-item.current-price {
            border-left-color: #ff8c42;
            background: #3a2f2a;
        }
        
        .ema-name {
            color: #8b9dc3;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .ema-price {
            color: #ffffff;
            font-weight: 600;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .ema-distance {
            text-align: right;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .ema-distance.positive {
            color: #4caf50;
        }
        
        .ema-distance.negative {
            color: #ff4757;
        }
        
        .ema-distance.reference {
            color: #ff8c42;
            font-size: 0.8rem;
        }

        /* RESPONSIVE - MOBILE EM COLUNA */
        @media (max-width: 768px) {
            .bloco-grid {
                grid-template-columns: 1fr !important; /* For√ßa 1 coluna no mobile */
            }
            
            .bloco-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 20px;
            }
            
            .gauge-container {
                min-height: auto;
                margin-bottom: 20px;
            }
            
            .bloco-indicadores {
                min-height: auto;
                justify-content: flex-start;
            }
            
            .bloco-card .panel-title {
                margin-bottom: 40px;
                text-align: center;
            }

            .classification-header {
                margin-bottom: 15px;
                padding-bottom: 10px;
            }

            .classification-text {
                font-size: 1rem;
            }
        }

        /* TABLET - 2 COLUNAS AT√â 1024px */
        @media (max-width: 1024px) and (min-width: 769px) {
            .bloco-grid {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header com navega√ß√£o -->
        <div class="back-button" onclick="window.location.href='/'">
            ‚Üê Voltar ao Dashboard
        </div>
        
        <div class="breadcrumb">
            <a href="/">Home</a> > An√°lise Estrat√©gica
        </div>

        <!-- Status com timestamp -->
        <div style="text-align: center; margin-bottom: 15px;">
            <div class="last-update" id="last-update-estrategia">√öltima: --:--</div>
        </div>

        <!-- Score consolidado -->
        <div class="score-summary">
            <div class="score-main" id="fase-operacional-consolidada">Bull Exaust√£o</div>
            <div class="score-details">
                Tend√™ncia: <span id="tendencia-consolidada">BULL</span> | 
                A√ß√£o: <span id="acao-consolidada">Preparar RPs</span>
            </div>
        </div>

        <!-- Blocos de an√°lise -->
        <div class="bloco-grid">
            <!-- Bloco Tend√™ncia (EMAs) -->
            <div class="bloco-card">
                <div class="panel-title">üìà An√°lise de Tend√™ncia</div>
                <div class="bloco-content">
                    <div class="gauge-container">
                        <div class="gauge">
                            <canvas id="gauge-tendencia" width="200" height="200"></canvas>
                            <div class="gauge-center">
                                <div class="gauge-score" id="score-tendencia">100</div>
                            </div>
                            <!-- LABELS BEAR/BULL -->
                            <div class="gauge-labels">
                                <span class="gauge-label-left">Bear</span>
                                <span class="gauge-label-right">Bull</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bloco-indicadores">
                        <div class="ema-distances-grid">

                            <div class="ema-distance-item current-price">
                                <div class="ema-name">Pre√ßo Atual</div>
                                <div class="ema-price" id="btc-price-valor">$0</div>
                                <div class="ema-distance reference">Refer√™ncia</div>
                            </div>

                            <div class="ema-distance-item">
                                <div class="ema-name">EMA 10</div>
                                <div class="ema-price" id="ema-10-valor">$0</div>
                                <div class="ema-distance positive" id="ema-10-distance">+0%</div>
                            </div>
                            
                            <div class="ema-distance-item">
                                <div class="ema-name">EMA 20</div>
                                <div class="ema-price" id="ema-20-valor">$98,835</div>
                                <div class="ema-distance positive" id="ema-20-distance">+0%</div>
                            </div>
                            
                            <div class="ema-distance-item">
                                <div class="ema-name">EMA 50</div>
                                <div class="ema-price" id="ema-50-valor">$87,438</div>
                                <div class="ema-distance positive" id="ema-50-distance">+0%</div>
                            </div>
                            
                            <div class="ema-distance-item">
                                <div class="ema-name">EMA 100</div>
                                <div class="ema-price" id="ema-100-valor">$0</div>
                                <div class="ema-distance positive" id="ema-100-distance">+0%</div>
                            </div>
                            
                            <div class="ema-distance-item">
                                <div class="ema-name">EMA 200</div>
                                <div class="ema-price" id="ema-200-valor">$0</div>
                                <div class="ema-distance positive" id="ema-200-distance">+0%</div>
                            </div>
                        
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bloco Ciclo - CLASSIFICA√á√ÉO CENTRALIZADA -->
            <div class="bloco-card">
                <div class="panel-title">üîÑ An√°lise de Ciclo</div>
                <div class="bloco-content">
                    <div class="gauge-container">
                        <div class="gauge">
                            <canvas id="gauge-ciclo" width="200" height="200"></canvas>
                            <div class="gauge-center">
                                <div class="gauge-score" id="score-ciclo">0</div>
                            </div>
                            <!-- LABELS CARO/BARATO -->
                            <div class="gauge-labels">
                                <span class="gauge-label-left">Caro</span>
                                <span class="gauge-label-right">Barato</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bloco-indicadores">
                        <!-- CLASSIFICA√á√ÉO CENTRALIZADA - NOVO POSICIONAMENTO -->
                        <div class="classification-header">
                            <div class="classification-text" id="class-ciclo">Carregando...</div>
                        </div>

                         <div class="indicador-item">
                            <div class="indicador-header">
                                <span class="indicador-nome">MVRV Z-Score</span>
                                <span class="indicador-valor" id="mvrv-valor">0</span>
                            </div>
                            <div class="indicador-barra">
                                <div class="indicador-barra-fill" id="mvrv-barra"></div>
                            </div>
                        </div>
                        
                        <div class="indicador-item">
                            <div class="indicador-header">
                                <span class="indicador-nome">NUPL</span>
                                <span class="indicador-valor" id="nupl-valor">0</span>
                            </div>
                            <div class="indicador-barra">
                                <div class="indicador-barra-fill" id="nupl-barra"></div>
                            </div>
                        </div>
                        
                        <div class="indicador-item">
                            <div class="indicador-header">
                                <span class="indicador-nome">Reserve Risk</span>
                                <span class="indicador-valor" id="reserve-valor">0</span>
                            </div>
                            <div class="indicador-barra">
                                <div class="indicador-barra-fill" id="reserve-barra"></div>
                            </div>
                        </div>
                        
                        <div class="indicador-item">
                            <div class="indicador-header">
                                <span class="indicador-nome">Puell Multiple</span>
                                <span class="indicador-valor" id="puell-valor">0</span>
                            </div>
                            <div class="indicador-barra">
                                <div class="indicador-barra-fill" id="puell-barra"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/pages/estrategia-detalhes/index.js"></script>
</body>
</html>